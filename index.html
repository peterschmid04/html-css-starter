<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" media="all" href="style.css">
    <title>Tripsi</title>
</head>
<body>
    <div class="gallery">
      <div class="header">
        <button data-category="all" class="category active">Show all</button>
        <button data-category="nature" class="category">Nature</button>
        <button data-category="hiking" class="category">Hiking</button>
        <button data-category="traveling" class="category">Traveling</button>
      </div>
  
      <section class="image-grid" id="image-grid">
        <div data-category="hiking nature">
            <img src="images/tent.jpg" alt="tent">
            <input type="text" value="tent">
            <input type="text" placeholder="Beschreibung ">
        </div>
        <div data-category="nature">
            <img src="images/ landscape.jpg" alt="landscape">
            <input type="text" value="landscape">
            <input type="text" placeholder="Beschreibung ">
        </div>
        <div data-category="traveling">
            <img src="images/camper.jpg" alt="camper">
            <input type="text" value="camper">
            <input type="text" placeholder="Beschreibung ">
        </div>
        <div data-category="hiking">
            <img src="images/hiking.jpg" alt="hiking">
            <input type="text" value="hiking">
            <input type="text" placeholder="Beschreibung ">
        </div>
        <div data-category="hiking">
            <img src="images/house.jpg" alt="house">
            <input type="text" value="house">
            <input type="text" placeholder="Beschreibung ">
        </div>
        <div data-category="hiking mountains">
            <img src="images/mountains.jpg" alt="mountains">
            <input type="text" value="mountains">
            <input type="text" placeholder="Beschreibung ">
        </div>
        <div data-category="nature">
            <img src="images/lake.jpg" alt="lake">
            <input type="text" value="lake">
            <input type="text" placeholder="Beschreibung ">
        </div>
        <div data-category="traveling">
            <img src="images/traveling.jpg" alt="traveling">
            <input type="text" value="traveling">
            <input type="text" placeholder="Beschreibung ">
        </div>
    </section>
    </div>
  
    <dialog id="imageDialog">
      <div class="dialog-content">
          <img id="dialogImage" src="" alt="">
          <input id="dialogTitle" type="text">
          <input id="dialogDescription" type="text">
          <button id="closeDialog">Close</button>
          <button id="safeDialog">Safe</button>
      </div>
  </dialog>

  <script>
      const buttons = document.querySelectorAll(".category");
      const images = document.querySelectorAll(".image-grid div img"); // Nur Bilder auswählen!
      const dialog = document.getElementById("imageDialog");
      const dialogImage = document.getElementById("dialogImage");
      const dialogTitle = document.getElementById("dialogTitle");
      const dialogDescription = document.getElementById("dialogDescription");
      const closeDialog = document.getElementById("closeDialog");

      // Filterfunktion für die Buttons
      buttons.forEach(button => {
          button.addEventListener("click", () => {
              buttons.forEach(btn => btn.classList.remove("active"));
              button.classList.add("active");

              const category = button.dataset.category;
              document.querySelectorAll(".image-grid div").forEach(imageDiv => {
                  const categories = imageDiv.dataset.category.split(" ");
                  imageDiv.style.display = (category === "all" || categories.includes(category)) ? "grid" : "none";
              });
          });
      });

      // Bild anklicken -> Dialog öffnen (nur Bilder, keine Input-Felder)
      images.forEach(img => {
          img.addEventListener("click", (event) => {
              const imageDiv = event.target.closest("div");
              const title = imageDiv.querySelector("input[type='text']").value;
              const description = imageDiv.querySelectorAll("input[type='text']")[1].value;

              dialogImage.src = img.src;
              dialogImage.alt = img.alt;
              dialogTitle.value = title;
              dialogDescription.value = description;

              dialog.showModal();
          });
      });

      // Dialog schließen
      closeDialog.addEventListener("click", () => {
          dialog.close();
      });
  </script>
</body>
</html>